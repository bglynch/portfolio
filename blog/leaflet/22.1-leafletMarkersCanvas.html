<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header>
    <a href="../../index.html">Brian Lynch<span> | Developer</span></a>
  </header>
  <section id="list"></section>
  <section id="map"></section>
  <section id="desc">
    <p>Number of markers: <span>10,000</span></p>
    <p>https://github.com/francoisromain/leaflet-markers-canvas</p>
  </section>

  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
  <script src="https://unpkg.com/rbush@3.0.1/rbush.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
    <script src="./lib/leaflet-markers-canvas/leaflet-markers-canvas.js"></script>
  <script src="./common.js"></script>
  <script>
    var markersCanvas = new L.MarkersCanvas();
    markersCanvas.addTo(map);
    
    var svg = `
    <svg width="50" height="27" viewBox="0 0 50 27" xmlns="http://www.w3.org/2000/svg">
      <path fill="#2d6099" d="M44 0c0 0 6 0 6 6v9c0 0 0 6-6 6H30c-1 0-1 0 -2 1l-3 5L22 22C21 21 21 21 20 21H7C7 21 0 21 0 15V6C0 0 6 0 6 0Z"/>
      <text fill="#fff" x="50%" y="14.5" text-anchor="middle" style="
      font-weight: 500;
      font-family: sans-serif;
      font-size: 12px;
      letter-spacing: 1px;
    ">&#8364;125K</text>
    </svg>`;
    var iconUrl = 'data:image/svg+xml;base64,' + btoa(svg);

    var icon = L.icon( {
          iconUrl: iconUrl,
          iconSize: [50, 27],
          iconAnchor: [25, 27],
          shadowSize: [50, 30],
      });

    let numberOfMarkers = 10000;
    for (var i = 0; i < numberOfMarkers; i += 1) {
      var marker = L.marker(getRandomLatLng(),{ icon }).bindPopup('marker ' + i);
      markersCanvas.addMarker(marker);
    }

    // add marker to poolbeg lighthouse
    var marker = L.marker(getPoolbegLighthouse(),{ icon }).bindPopup('poolbeg');
    markersCanvas.addMarker(marker);


  </script>
</body>
</html>